<div class="list">
  {{if .Active}}
    {{if .HasProgress}}
    <div class="progress-section">
      <div class="progress-bar">
        <div class="progress-bar__fill {{if .IsOnTrack}}progress-bar__fill--on-track{{else}}progress-bar__fill--behind{{end}}" style="width: {{.ProgressPercent}}%"></div>
      </div>
      <div class="progress-meta">
        <span class="progress-percent">{{.ProgressPercent}}%</span>
        <span class="progress-status {{if .IsOnTrack}}progress-status--on-track{{else}}progress-status--behind{{end}}">
          {{if .IsOnTrack}}In linea{{else}}In ritardo{{end}}
        </span>
      </div>
    </div>
    {{end}}
    <div class="row"><div>Target</div><div>{{.TargetWeight}} {{.Unit}}</div></div>
    <div class="row"><div>Scadenza</div><div>{{.TargetDate}}</div></div>
    {{if .HasProgress}}
      <div class="row"><div>Da perdere/guadagnare</div><div>{{.WeightToLose}} kg</div></div>
      <div class="row"><div>Giorni rimanenti</div><div>{{.DaysRemaining}}</div></div>
    {{end}}
  {{else}}
    <div class="row"><div class="caption">Nessun obiettivo attivo</div></div>
    {{if .HasWeights}}
      <div class="actions">
        <button class="btn btn-primary btn--block"
                hx-get="/users/{{.UserID}}/goal-form"
                hx-target="#panel"
                hx-swap="innerHTML">Imposta Obiettivo</button>
      </div>
    {{else}}
      <div class="row">
        <div class="caption hint-text">
          Per impostare un obiettivo devi prima registrare almeno un peso
        </div>
      </div>
    {{end}}
  {{end}}
</div>

