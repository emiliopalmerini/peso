<form class="form" hx-post="/api/weights" hx-target="#weight-form" hx-swap="none" hx-after-request="htmx.trigger('body','weight-updated'); this.closest('#weight-form').innerHTML=''">
  <input type="hidden" name="user_id" value="{{.UserID}}">

  <div class="field">
    <label>Peso</label>
    <div style="display:flex; gap:8px;">
      <input type="number" name="weight" step="0.1" min="10" max="500" required placeholder="70.0">
      <select name="unit" required>
        <option value="kg">kg</option>
        <option value="lb">lb</option>
      </select>
    </div>
  </div>

  <div class="field">
    <label>Data</label>
    <input type="date" name="date" value="{{.Today}}" required>
  </div>

  <div class="field">
    <label>Note (opzionali)</label>
    <input type="text" name="notes" placeholder="es. peso mattutino">
  </div>

  <div class="actions">
    <button type="submit" class="btn btn-primary">Salva</button>
    <button type="button" class="btn" onclick="this.closest('form').outerHTML=''">Annulla</button>
  </div>
</form>
